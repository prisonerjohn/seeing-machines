<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://seeingmachines.betamovement.net/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://seeingmachines.betamovement.net/fonts/vendor/jost/jost-v4-latin-500.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://seeingmachines.betamovement.net/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><link rel=stylesheet href=https://seeingmachines.betamovement.net/main.8d021019b9ce3f15211b87c945c913e36aaf7bf23d3e2a81f9da6c01ea22a3c97caa4400b3466899838f5b4b52d3749af9554379487e932c3e83530c676aeca2.css integrity="sha512-jQIQGbnOPxUhG4fJRckT42qve/I9PiqB+dpsAeoio8l8qkQAs0ZomYOPW0tS03Sa+VVDeUh+kyw+g1MMZ2rsog==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Texture Sharing - Seeing Machines</title><meta name=description content="It is sometimes necessary to share more than just state updates or short messages between applications. We may need to share an entire image over for various reasons:
Continue image processing in another app. Use OF image as a texture for a material in a 3D rendering application. Projection map the OF image using mapping software. Use OF as an input for VJ software. Etc. Texture sharing is often required for building interactive installations, and there are a few options for doing so."><link rel=canonical href=https://seeingmachines.betamovement.net/docs/class-7/texture-sharing/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Texture Sharing"><meta property="og:description" content="It is sometimes necessary to share more than just state updates or short messages between applications. We may need to share an entire image over for various reasons:
Continue image processing in another app. Use OF image as a texture for a material in a 3D rendering application. Projection map the OF image using mapping software. Use OF as an input for VJ software. Etc. Texture sharing is often required for building interactive installations, and there are a few options for doing so."><meta property="og:url" content="https://seeingmachines.betamovement.net/docs/class-7/texture-sharing/"><meta property="og:site_name" content="Seeing Machines"><meta property="article:published_time" content="2022-11-04T15:46:35-04:00"><meta property="article:modified_time" content="2022-11-04T15:46:35-04:00"><meta property="og:image" content="https://seeingmachines.betamovement.net/default-image.png"><meta property="og:image:alt" content="Seeing Machines"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content><meta name=twitter:creator content="@prisonerjohn"><meta name=twitter:title content="Texture Sharing"><meta name=twitter:description content><meta name=twitter:image content="https://seeingmachines.betamovement.net/default-image.png"><meta name=twitter:image:alt content="Texture Sharing"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"https://seeingmachines.betamovement.net/#/schema/person/1","name":"Seeing Machines","url":"https://seeingmachines.betamovement.net/","sameAs":[],"image":{"@type":"ImageObject","@id":"https://seeingmachines.betamovement.net/#/schema/image/1","url":"https://seeingmachines.betamovement.net/default-image.png","width":1024,"height":768,"caption":"Seeing Machines"}},{"@type":"WebSite","@id":"https://seeingmachines.betamovement.net/#/schema/website/1","url":"https://seeingmachines.betamovement.net/","name":"Seeing Machines","description":"A programming course where weâ€™ll explore various techniques and solutions for tracking and sensing people or objects in space.","publisher":{"@id":"https://seeingmachines.betamovement.net/#/schema/person/1"}},{"@type":"WebPage","@id":"https://seeingmachines.betamovement.net/docs/class-7/texture-sharing/","url":"https://seeingmachines.betamovement.net/docs/class-7/texture-sharing/","name":"Texture Sharing","description":"","isPartOf":{"@id":"https://seeingmachines.betamovement.net/#/schema/website/1"},"about":{"@id":"https://seeingmachines.betamovement.net/#/schema/person/1"},"datePublished":"2022-11-04T15:46:35CET","dateModified":"2022-11-04T15:46:35CET","breadcrumb":{"@id":"https://seeingmachines.betamovement.net/docs/class-7/texture-sharing/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://seeingmachines.betamovement.net/docs/class-7/texture-sharing/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://seeingmachines.betamovement.net/docs/class-7/texture-sharing/"]}]},{"@type":"BreadcrumbList","@id":"https://seeingmachines.betamovement.net/docs/class-7/texture-sharing/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://seeingmachines.betamovement.net/","url":"https://seeingmachines.betamovement.net/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"https://seeingmachines.betamovement.net/docs/","url":"https://seeingmachines.betamovement.net/docs/","name":"Docs"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://seeingmachines.betamovement.net/docs/class-7/","url":"https://seeingmachines.betamovement.net/docs/class-7/","name":"Class 7"}},{"@type":"ListItem","position":4,"item":{"@id":"https://seeingmachines.betamovement.net/docs/class-7/texture-sharing/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Article","@id":"https://seeingmachines.betamovement.net/#/schema/article/1","headline":"Texture Sharing","description":"","isPartOf":{"@id":"https://seeingmachines.betamovement.net/docs/class-7/texture-sharing/"},"mainEntityOfPage":{"@id":"https://seeingmachines.betamovement.net/docs/class-7/texture-sharing/"},"datePublished":"2022-11-04T15:46:35CET","dateModified":"2022-11-04T15:46:35CET","author":{"@id":"https://seeingmachines.betamovement.net/#/schema/person/2"},"publisher":{"@id":"https://seeingmachines.betamovement.net/#/schema/person/1"},"image":{"@id":"https://seeingmachines.betamovement.net/docs/class-7/texture-sharing/#/schema/image/2"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"https://seeingmachines.betamovement.net/#/schema/person/2","name":"Elie Zananiri","sameAs":["https://twitter.com/prisonerjohn","https://www.linkedin.com/in/prisonerjohn/","https://github.com/prisonerjohn"]}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://seeingmachines.betamovement.net/docs/class-7/texture-sharing/#/schema/image/2","url":"https://seeingmachines.betamovement.net/default-image.png","contentUrl":"https://seeingmachines.betamovement.net/default-image.png","caption":"Texture Sharing"}]}]}</script><meta name=theme-color content="#fff"><link rel=icon href=https://seeingmachines.betamovement.net/favicon.ico sizes=any><link rel=icon type=image/svg+xml href=https://seeingmachines.betamovement.net/favicon.svg><link rel=apple-touch-icon sizes=180x180 href=https://seeingmachines.betamovement.net/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://seeingmachines.betamovement.net/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://seeingmachines.betamovement.net/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://seeingmachines.betamovement.net/site.webmanifest></head><body class="docs single"><div class=sticky-top><div class=header-bar></div><header class="navbar navbar-expand-lg navbar-light doks-navbar"><nav class="container-xxl flex-wrap flex-lg-nowrap" aria-label="Main navigation"><a class="navbar-brand order-0" href=https://seeingmachines.betamovement.net/ aria-label="Seeing Machines">Seeing Machines</a>
<button class="btn btn-link order-0 ms-auto d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasExample aria-controls=offcanvasExample><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-horizontal"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg></button><div class="offcanvas offcanvas-start d-lg-none" tabindex=-1 id=offcanvasExample aria-labelledby=offcanvasExampleLabel><div class=header-bar></div><div class=offcanvas-header><h5 class=offcanvas-title id=offcanvasExampleLabel>Browse docs</h5><button type=button class=btn-close data-bs-dismiss=offcanvas aria-label=Close></button></div><div class=offcanvas-body><aside class="doks-sidebar mt-n3"><nav id=doks-docs-nav aria-label="Tertiary navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-f7e883054c348d897063924d41a7ec2d aria-expanded=false>
Class 0</button><div class=collapse id=section-f7e883054c348d897063924d41a7ec2d><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-0/foreword/>Foreword</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-0/intro-to-of/>Intro to OF</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-e43c4a6cb52ad623673f8e77a5b10104 aria-expanded=false>
Class 1</button><div class=collapse id=section-e43c4a6cb52ad623673f8e77a5b10104><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-1/variables-and-arrays/>Variables and Arrays</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-1/images-and-video/>Images and Video</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-2ef5a7f02774e1be242988dba4c3056c aria-expanded=false>
Class 2</button><div class=collapse id=section-2ef5a7f02774e1be242988dba4c3056c><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-2/computer-vision/>Computer Vision</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-6a3be28bcd9707b6b8ff8ac55a6b8cb2 aria-expanded=false>
Class 3</button><div class=collapse id=section-6a3be28bcd9707b6b8ff8ac55a6b8cb2><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-3/intro-to-opencv/>Intro to OpenCV</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-3/object-tracking/>Object Tracking</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-e01cc216a97c1db953e2304e6aa8998a aria-expanded=false>
Class 4</button><div class=collapse id=section-e01cc216a97c1db953e2304e6aa8998a><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-4/logging/>Logging</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-4/depth-sensing/>Depth Sensing</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-cb8d2462ebd86364c3502e7084b7f391 aria-expanded=false>
Class 5</button><div class=collapse id=section-cb8d2462ebd86364c3502e7084b7f391><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-5/pointers/>Pointers</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-5/depth-images/>Depth Images</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-c5400dee9e161c6d7e46af7661005794 aria-expanded=false>
Class 6</button><div class=collapse id=section-c5400dee9e161c6d7e46af7661005794><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-6/depth-world/>Depth World</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-ff9150b580f893ddadd43394cb6173a3 aria-expanded=true>
Class 7</button><div class="collapse show" id=section-ff9150b580f893ddadd43394cb6173a3><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-7/networking/>Networking</a></li><li><a class="docs-link rounded active" href=https://seeingmachines.betamovement.net/docs/class-7/texture-sharing/>Texture Sharing</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-7/draw-bounds/>Draw Bounds</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-56c4b82e7a8861de86a5ebe5eaa62225 aria-expanded=false>
Assignments</button><div class=collapse id=section-56c4b82e7a8861de86a5ebe5eaa62225><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/assignments/assignment-1/>Assignment 1</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/assignments/assignment-2/>Assignment 2</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/assignments/assignment-3/>Assignment 3</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/assignments/assignment-4/>Assignment 4</a></li></ul></div></li></ul></nav></aside></div></div><button class="btn btn-menu order-2 d-block d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDoks aria-controls=offcanvasDoks aria-label="Open main menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><div class="offcanvas offcanvas-end border-0 py-lg-1" tabindex=-1 id=offcanvasDoks data-bs-backdrop=true aria-labelledby=offcanvasDoksLabel><div class="header-bar d-lg-none"></div><div class="offcanvas-header d-lg-none"><h2 class="h5 offcanvas-title ps-2" id=offcanvasDoksLabel><a class=text-dark href=https://seeingmachines.betamovement.net/>Seeing Machines</a></h2><button type=button class="btn-close text-reset me-2" data-bs-dismiss=offcanvas aria-label="Close main menu"></button></div><div class="offcanvas-body p-4 p-lg-0"><ul class="nav flex-column flex-lg-row align-items-lg-center mt-2 mt-lg-0 ms-lg-2 me-lg-auto"><li class=nav-item><a class="nav-link ps-0 py-1 active" href=https://seeingmachines.betamovement.net/docs/class-0/foreword>Docs</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=https://seeingmachines.betamovement.net/docs/assignments>Assignments</a></li></ul><hr class="text-black-50 my-4 d-lg-none"><form class="doks-search position-relative flex-grow-1 ms-lg-auto me-lg-2"><input id=search class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded d-none"></div></form><hr class="text-black-50 my-4 d-lg-none"><ul class="nav flex-column flex-lg-row"><li class=nav-item><a class="nav-link social-link" href=https://github.com/prisonerjohn/seeing-machines><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><small class="ms-2 d-lg-none">GitHub</small></a></li><li class=nav-item><a class="nav-link social-link" href=https://twitter.com/prisonerjohn><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg><small class="ms-2 d-lg-none">Twitter</small></a></li></ul><hr class="text-black-50 my-4 d-lg-none"><button id=mode class="btn btn-link" type=button aria-label="Toggle user interface mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></div></div></nav></header></div><div class=container-xxl><aside class=doks-sidebar><nav id=doks-docs-nav class="collapse d-lg-none" aria-label="Tertiary navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-f7e883054c348d897063924d41a7ec2d aria-expanded=false>
Class 0</button><div class=collapse id=section-f7e883054c348d897063924d41a7ec2d><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-0/foreword/>Foreword</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-0/intro-to-of/>Intro to OF</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-e43c4a6cb52ad623673f8e77a5b10104 aria-expanded=false>
Class 1</button><div class=collapse id=section-e43c4a6cb52ad623673f8e77a5b10104><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-1/variables-and-arrays/>Variables and Arrays</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-1/images-and-video/>Images and Video</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-2ef5a7f02774e1be242988dba4c3056c aria-expanded=false>
Class 2</button><div class=collapse id=section-2ef5a7f02774e1be242988dba4c3056c><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-2/computer-vision/>Computer Vision</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-6a3be28bcd9707b6b8ff8ac55a6b8cb2 aria-expanded=false>
Class 3</button><div class=collapse id=section-6a3be28bcd9707b6b8ff8ac55a6b8cb2><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-3/intro-to-opencv/>Intro to OpenCV</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-3/object-tracking/>Object Tracking</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-e01cc216a97c1db953e2304e6aa8998a aria-expanded=false>
Class 4</button><div class=collapse id=section-e01cc216a97c1db953e2304e6aa8998a><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-4/logging/>Logging</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-4/depth-sensing/>Depth Sensing</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-cb8d2462ebd86364c3502e7084b7f391 aria-expanded=false>
Class 5</button><div class=collapse id=section-cb8d2462ebd86364c3502e7084b7f391><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-5/pointers/>Pointers</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-5/depth-images/>Depth Images</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-c5400dee9e161c6d7e46af7661005794 aria-expanded=false>
Class 6</button><div class=collapse id=section-c5400dee9e161c6d7e46af7661005794><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-6/depth-world/>Depth World</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-ff9150b580f893ddadd43394cb6173a3 aria-expanded=true>
Class 7</button><div class="collapse show" id=section-ff9150b580f893ddadd43394cb6173a3><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-7/networking/>Networking</a></li><li><a class="docs-link rounded active" href=https://seeingmachines.betamovement.net/docs/class-7/texture-sharing/>Texture Sharing</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-7/draw-bounds/>Draw Bounds</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-56c4b82e7a8861de86a5ebe5eaa62225 aria-expanded=false>
Assignments</button><div class=collapse id=section-56c4b82e7a8861de86a5ebe5eaa62225><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/assignments/assignment-1/>Assignment 1</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/assignments/assignment-2/>Assignment 2</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/assignments/assignment-3/>Assignment 3</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/assignments/assignment-4/>Assignment 4</a></li></ul></div></li></ul></nav></aside></div><div class="wrap container-xxl" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block"><nav class=docs-links aria-label="Main navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-f7e883054c348d897063924d41a7ec2d aria-expanded=false>
Class 0</button><div class=collapse id=section-f7e883054c348d897063924d41a7ec2d><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-0/foreword/>Foreword</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-0/intro-to-of/>Intro to OF</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-e43c4a6cb52ad623673f8e77a5b10104 aria-expanded=false>
Class 1</button><div class=collapse id=section-e43c4a6cb52ad623673f8e77a5b10104><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-1/variables-and-arrays/>Variables and Arrays</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-1/images-and-video/>Images and Video</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-2ef5a7f02774e1be242988dba4c3056c aria-expanded=false>
Class 2</button><div class=collapse id=section-2ef5a7f02774e1be242988dba4c3056c><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-2/computer-vision/>Computer Vision</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-6a3be28bcd9707b6b8ff8ac55a6b8cb2 aria-expanded=false>
Class 3</button><div class=collapse id=section-6a3be28bcd9707b6b8ff8ac55a6b8cb2><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-3/intro-to-opencv/>Intro to OpenCV</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-3/object-tracking/>Object Tracking</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-e01cc216a97c1db953e2304e6aa8998a aria-expanded=false>
Class 4</button><div class=collapse id=section-e01cc216a97c1db953e2304e6aa8998a><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-4/logging/>Logging</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-4/depth-sensing/>Depth Sensing</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-cb8d2462ebd86364c3502e7084b7f391 aria-expanded=false>
Class 5</button><div class=collapse id=section-cb8d2462ebd86364c3502e7084b7f391><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-5/pointers/>Pointers</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-5/depth-images/>Depth Images</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-c5400dee9e161c6d7e46af7661005794 aria-expanded=false>
Class 6</button><div class=collapse id=section-c5400dee9e161c6d7e46af7661005794><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-6/depth-world/>Depth World</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-ff9150b580f893ddadd43394cb6173a3 aria-expanded=true>
Class 7</button><div class="collapse show" id=section-ff9150b580f893ddadd43394cb6173a3><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-7/networking/>Networking</a></li><li><a class="docs-link rounded active" href=https://seeingmachines.betamovement.net/docs/class-7/texture-sharing/>Texture Sharing</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/class-7/draw-bounds/>Draw Bounds</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-56c4b82e7a8861de86a5ebe5eaa62225 aria-expanded=false>
Assignments</button><div class=collapse id=section-56c4b82e7a8861de86a5ebe5eaa62225><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/assignments/assignment-1/>Assignment 1</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/assignments/assignment-2/>Assignment 2</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/assignments/assignment-3/>Assignment 3</a></li><li><a class="docs-link rounded" href=https://seeingmachines.betamovement.net/docs/assignments/assignment-4/>Assignment 4</a></li></ul></div></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=d-xl-none><button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type=button data-bs-toggle=collapse data-bs-target=#onThisPage aria-controls=doks-docs-nav aria-expanded=false aria-label="Toggle On this page navigation">
<span>On this page</span>
<span><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"/><polyline points="7 6 12 11 17 6"/></svg><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"/><polyline points="17 18 12 13 7 18"/></svg></span></button><div class=collapse id=onThisPage><div class="card card-body mt-3 py-1"><div class=page-links><nav id=TableOfContents><ul><li><a href=#syphon>Syphon</a><ul><li><a href=#server>Server</a></li><li><a href=#client>Client</a></li><li><a href=#server-directory>Server Directory</a></li><li><a href=#event-listeners>Event Listeners</a></li></ul></li><li><a href=#spout>Spout</a><ul><li><a href=#sender>Sender</a></li><li><a href=#receiver>Receiver</a></li></ul></li><li><a href=#ndi>NDI</a><ul><li><a href=#sender-1>Sender</a></li><li><a href=#receiver-1>Receiver</a></li></ul></li></ul></nav></div></div></div></div><div class="page-links d-none d-xl-block"><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#syphon>Syphon</a><ul><li><a href=#server>Server</a></li><li><a href=#client>Client</a></li><li><a href=#server-directory>Server Directory</a></li><li><a href=#event-listeners>Event Listeners</a></li></ul></li><li><a href=#spout>Spout</a><ul><li><a href=#sender>Sender</a></li><li><a href=#receiver>Receiver</a></li></ul></li><li><a href=#ndi>NDI</a><ul><li><a href=#sender-1>Sender</a></li><li><a href=#receiver-1>Receiver</a></li></ul></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><h1>Texture Sharing</h1><p class=lead></p><nav class=d-xl-none aria-label="Quaternary navigation"><div class=d-xl-none><button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type=button data-bs-toggle=collapse data-bs-target=#onThisPage aria-controls=doks-docs-nav aria-expanded=false aria-label="Toggle On this page navigation">
<span>On this page</span>
<span><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"/><polyline points="7 6 12 11 17 6"/></svg><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"/><polyline points="17 18 12 13 7 18"/></svg></span></button><div class=collapse id=onThisPage><div class="card card-body mt-3 py-1"><div class=page-links><nav id=TableOfContents><ul><li><a href=#syphon>Syphon</a><ul><li><a href=#server>Server</a></li><li><a href=#client>Client</a></li><li><a href=#server-directory>Server Directory</a></li><li><a href=#event-listeners>Event Listeners</a></li></ul></li><li><a href=#spout>Spout</a><ul><li><a href=#sender>Sender</a></li><li><a href=#receiver>Receiver</a></li></ul></li><li><a href=#ndi>NDI</a><ul><li><a href=#sender-1>Sender</a></li><li><a href=#receiver-1>Receiver</a></li></ul></li></ul></nav></div></div></div></div><div class="page-links d-none d-xl-block"><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#syphon>Syphon</a><ul><li><a href=#server>Server</a></li><li><a href=#client>Client</a></li><li><a href=#server-directory>Server Directory</a></li><li><a href=#event-listeners>Event Listeners</a></li></ul></li><li><a href=#spout>Spout</a><ul><li><a href=#sender>Sender</a></li><li><a href=#receiver>Receiver</a></li></ul></li><li><a href=#ndi>NDI</a><ul><li><a href=#sender-1>Sender</a></li><li><a href=#receiver-1>Receiver</a></li></ul></li></ul></nav></div></nav><p>It is sometimes necessary to share more than just state updates or short messages between applications. We may need to share an entire image over for various reasons:</p><ul><li>Continue image processing in another app.</li><li>Use OF image as a texture for a material in a 3D rendering application.</li><li>Projection map the OF image using mapping software.</li><li>Use OF as an input for VJ software.</li><li>Etc.</li></ul><p>Texture sharing is often required for building interactive installations, and there are a few options for doing so. The following frameworks use special optimized techniques to share images, and therefore tend to be much faster than something built for shorter messages, like OSC for example.</p><figure style="width:600px;height:400px;display:block;margin:0 auto"><iframe width=600 height=375 src=https://www.youtube.com/embed/3UzpnA2nNlc frameborder=0 allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><figcaption><i>morookamitsuo Feb 14, 2015</i></figcaption></figure><h2 id=syphon>Syphon <a href=#syphon class=anchor aria-hidden=true>#</a></h2><p><a href=http://syphon.v002.info/>Syphon</a> is a macOS technology that allows applications to share frames in real-time. It does this by sharing texture memory avoiding unnecessary copies, and keeping data on the GPU as much as possible.</p><p>Syphon has plug-ins available for a multitude of platforms including <a href=https://github.com/astellato/ofxSyphon>openFrameworks</a>, <a href=https://github.com/Syphon/Processing>Processing</a>, <a href=https://github.com/keijiro/KlakSyphon>Unity</a>, <a href=https://github.com/Syphon/Jitter/releases/>Jitter</a>, <a href=https://vidvox.net/>VDMX</a>, <a href=https://madmapper.com/>MadMapper</a>, etc. It is an open-source project, which makes it easy for anyone to build their own bindings to Syphon, and this is why the list of supported applications keeps growing.</p><p>We will use the <a href=https://github.com/astellato/ofxSyphon>ofxSyphon</a> addon for openFrameworks. This includes both server and client implementations, meaning we can send and receive images to / from any other application that supports Syphon.</p><h3 id=server>Server <a href=#server class=anchor aria-hidden=true>#</a></h3><p>The following is a simple thresholding app that includes two servers:</p><ul><li><code>serverGrabber</code> publishes the input video using the <code>ofxSyphonServer.publishTexture()</code> function.<ul><li>This takes a pointer to an <code>ofTexture</code> as an argument, so we will use the <code>&</code> operator before the variable to convert it to a pointer.</li></ul></li><li><code>serverThreshold</code> publishes the result threshold image using <code>ofxSyphonServer.publishScreen()</code>.<ul><li><code>publishScreen()</code> sends whatever has been drawn on screen up to that point, so we need to draw <code>thresholdImg</code> before calling it.</li><li>Note that the GUI panel does not get sent to Syphon because it is drawn after the call to <code>publishScreen()</code>.</li></ul></li></ul><pre><code class=language-cpp>// ofApp.h
#pragma once

#include &quot;ofMain.h&quot;

#include &quot;ofxGui.h&quot;
#include &quot;ofxSyphon.h&quot;

class ofApp : public ofBaseApp
{
public:
  void setup();
  void update();
  void draw();
  
  ofVideoGrabber grabber;
  ofImage thresholdImg;
  
  ofxSyphonServer serverGrabber;
  ofxSyphonServer serverThreshold;
  
  ofParameter&lt;int&gt; thresholdVal;
  ofParameter&lt;bool&gt; sendGrabber;
  ofParameter&lt;bool&gt; sendThreshold;
  
  ofxPanel guiPanel;
};
</code></pre><pre><code class=language-cpp>// ofApp.cpp
#include &quot;ofApp.h&quot;

void ofApp::setup()
{
  ofSetWindowShape(640, 480);

  // Start video grabber.
  grabber.setup(640, 480);
  
  // Allocate threshold image (same size as video, single channel).
  thresholdImg.allocate(640, 480, OF_IMAGE_GRAYSCALE);
  
  // Set up Syphon servers.
  serverGrabber.setName(&quot;Video Input&quot;);
  serverThreshold.setName(&quot;Threshold Image&quot;);
  
  // Set parameters and GUI.
  thresholdVal.set(&quot;Threshold Val&quot;, 127, 0, 255);
  sendGrabber.set(&quot;Send Grabber&quot;, true);
  sendThreshold.set(&quot;Send Threshold&quot;, true);
  
  guiPanel.setup(&quot;Syphon Send&quot;, &quot;settings.json&quot;);
  guiPanel.add(thresholdVal);
  guiPanel.add(sendGrabber);
  guiPanel.add(sendThreshold);
}

void ofApp::update()
{
  grabber.update();
  
  if (grabber.isFrameNew())
  {
    // Threshold video image.
    // Use references (&amp;) when getting the ofPixels objects to
    // avoid unnecessary copies.
    ofPixels&amp; videoPix = grabber.getPixels();
    ofPixels&amp; thresholdPix = thresholdImg.getPixels();
    for (int row = 0; row &lt; videoPix.getHeight(); row++)
    {
      for (int col = 0; col &lt; videoPix.getWidth(); col++)
      {
        int pixVal = videoPix.getColor(col, row).getBrightness();
        if (pixVal &lt; thresholdVal)
        {
          thresholdPix.setColor(col, row, ofColor(0));
        }
        else
        {
          thresholdPix.setColor(col, row, ofColor(255));
        }
      }
    }
      
    thresholdImg.update();
    
    if (sendGrabber)
    {
      // Send grabber texture.
      // This has to be a pointer, so we add &amp; before the argument.
      serverGrabber.publishTexture(&amp;grabber.getTexture());
    }
  }
}

void ofApp::draw()
{
  thresholdImg.draw(0, 0);
  
  if (sendThreshold)
  {
    // Send current screen, which is just the threshold image.
    serverThreshold.publishScreen();
  }
  
  guiPanel.draw();
}
</code></pre><h3 id=client>Client <a href=#client class=anchor aria-hidden=true>#</a></h3><p>We can now write a client app that reads the published textures.</p><ul><li>Note that each <code>ofxSyphonClient</code> needs to be set with a corresponding name to the <code>ofxSyphonServer</code>.</li><li>We first need to call <code>ofxSyphonClient.setup()</code> then <code>ofxSyphonClient.set()</code> to set the server and app name. The server name is whatever we used in our sender (&ldquo;Video Input&rdquo; or &ldquo;Threshold Image&rdquo; above), and the app name is the name of the executable. In our case it would be something like &ldquo;syphon-sendDebug&rdquo;.</li></ul><pre><code class=language-cpp>// ofApp.h
#pragma once

#include &quot;ofMain.h&quot;

#include &quot;ofxGui.h&quot;
#include &quot;ofxSyphon.h&quot;

class ofApp : public ofBaseApp
{
public:
  void setup();
  void draw();
  
  ofxSyphonClient clientGrabber;
  ofxSyphonClient clientThreshold;
  
  ofParameter&lt;bool&gt; recvGrabber;
  ofParameter&lt;bool&gt; recvThreshold;
  
  ofxPanel guiPanel;
};
</code></pre><pre><code class=language-cpp>// ofApp.cpp
#include &quot;ofApp.h&quot;

void ofApp::setup()
{
  ofSetWindowShape(640, 480);
  
  // Set up Syphon clients.
  clientGrabber.setup();
  clientGrabber.set(&quot;Video Input&quot;, &quot;syphon-sendDebug&quot;);
  clientThreshold.setup();
  clientThreshold.set(&quot;Threshold Image&quot;, &quot;syphon-sendDebug&quot;);
  
  // Set parameters and GUI.
  recvGrabber.set(&quot;Recv Grabber&quot;, true);
  recvThreshold.set(&quot;Recv Threshold&quot;, false);
  
  guiPanel.setup(&quot;Syphon Recv&quot;, &quot;settings.json&quot;);
  guiPanel.add(recvGrabber);
  guiPanel.add(recvThreshold);
}

void ofApp::draw()
{
  if (recvGrabber)
  {
    // Draw grabber.
    clientGrabber.draw(0, 0);
  }
  else if (recvThreshold)
  {
    // Draw threshold.
    clientThreshold.draw(0, 0);
  }
  
  guiPanel.draw();
}
</code></pre><h3 id=server-directory>Server Directory <a href=#server-directory class=anchor aria-hidden=true>#</a></h3><p>While this client works, it is not ideal that we have to know the server name ahead of time because this is prone to errors and the name might change at any time. <code>ofxSyphon</code> also comes with an <code>ofxSyphonServerDirectory</code> which lists all available servers on the machine.</p><p>Let&rsquo;s use this to write a more robust client application. We will use an event listener to automatically call a function when the value of an <code>ofParameter</code> is changed, and set the client using this info.</p><pre><code class=language-cpp>// ofApp.h
#pragma once

#include &quot;ofMain.h&quot;

#include &quot;ofxGui.h&quot;
#include &quot;ofxSyphon.h&quot;

class ofApp : public ofBaseApp
{
public:
  void setup();
  void draw();
  
  void serverIndexChanged(int&amp; val);
  
  ofxSyphonServerDirectory serverDirectory;
  ofxSyphonClient client;
  
  ofParameter&lt;int&gt; serverIdx;
  
  ofxPanel guiPanel;
};
</code></pre><pre><code class=language-cpp>// ofApp.cpp
#include &quot;ofApp.h&quot;

void ofApp::setup()
{
  ofSetWindowShape(640, 480);
  
  // Set up Syphon server directory.
  serverDirectory.setup();
  
  // Set up Syphon client.
  client.setup();
  
  // Set parameters and GUI.
  serverIdx.set(&quot;Server Idx&quot;, 0, 0, 10);
  serverIdx.addListener(this, &amp;ofApp::serverIndexChanged);
  
  guiPanel.setup(&quot;Syphon Recv&quot;, &quot;settings.json&quot;);
  guiPanel.add(serverIdx);
}

void ofApp::draw()
{
  if (serverDirectory.isValidIndex(serverIdx))
  {
    // Draw Syphon server.
    client.draw(0, 0);
  }
  
  guiPanel.draw();
}

void ofApp::serverIndexChanged(int&amp; val)
{
  // Check that the server index is within bounds.
  if (serverDirectory.isValidIndex(serverIdx))
  {
    ofLogNotice(__FUNCTION__) &lt;&lt; &quot;Bind server &quot; &lt;&lt; serverIdx;
    
    // Bind the client to the selected server.
    client.set(serverDirectory.getDescription(serverIdx));
  }
  else
  {
    ofLogWarning(__FUNCTION__) &lt;&lt; &quot;Server &quot; &lt;&lt; serverIdx &lt;&lt; &quot; out of bounds!&quot;;
  }
}
</code></pre><h3 id=event-listeners>Event Listeners <a href=#event-listeners class=anchor aria-hidden=true>#</a></h3><p>Event listeners in openFrameworks are functions that are automatically called when an event happens. We have used pre-configured listeners like <code>mousePressed()</code> before, but we can also set up our own.</p><p>An event listener function first needs to be defined. This is simply a function that takes a reference to a variable as an argument. When using listeners to respond to changes to <code>ofParameter</code>, the argument needs to be the same as the <code>ofParameter</code> type.</p><p>For example, to listen for changes to an <code>ofParameter&lt;int></code>, our function argument would have to be a variable of type <code>int&</code>.</p><p>Once the function is defined, it needs to be registered with the object it is listening to.</p><ul><li>If we are dealing with an <a href=https://openframeworks.cc///documentation/events/ofEvent/><code>ofEvent</code></a> directly, we can call <a href=https://openframeworks.cc/documentation/events/ofEvent/#show_add><code>ofEvent.add()</code></a> or <a href=https://openframeworks.cc/documentation/events/ofEventUtils/#!show_ofAddListener><code>ofAddListener()</code></a>.</li><li>If we are using an <code>ofParameter</code>, we call <a href=https://openframeworks.cc/documentation/types/ofParameter/#show_addListener><code>ofParameter.addListener()</code></a>.</li></ul><p>In all cases, we need to pass a pointer to the object where the listener is defined, usually <code>this</code>, and a pointer to the listener function itself, usually something like <code>&ofApp:Listener</code>.</p><p>The following example adds listeners to the <code>serverAnnounced</code> and <code>serverRetired</code> events of <code>ofxSyphonServerDirectory</code> to ensure our index is always within range.</p><pre><code class=language-cpp>// ofApp.h
#pragma once

#include &quot;ofMain.h&quot;

#include &quot;ofxGui.h&quot;
#include &quot;ofxSyphon.h&quot;

class ofApp : public ofBaseApp
{
public:
  void setup();
  void draw();
  
  void serverListChanged(ofxSyphonServerDirectoryEventArgs&amp; args);
  
  void serverIndexChanged(int&amp; val);
  
  ofxSyphonServerDirectory serverDirectory;
  ofxSyphonClient client;
  
  ofParameter&lt;int&gt; serverIdx;
  
  ofxPanel guiPanel;
};
</code></pre><pre><code class=language-cpp>// ofApp.cpp
#include &quot;ofApp.h&quot;

void ofApp::setup()
{
  ofSetWindowShape(640, 480);
  
  // Set up Syphon server directory.
  serverDirectory.setup();
  ofAddListener(serverDirectory.events.serverAnnounced, this, &amp;ofApp::serverListChanged);
  ofAddListener(serverDirectory.events.serverRetired, this, &amp;ofApp::serverListChanged);

  // Set up Syphon client.
  client.setup();
  
  // Set parameters and GUI.
  serverIdx.set(&quot;Server Idx&quot;, 0, 0, 10);
  serverIdx.addListener(this, &amp;ofApp::serverIndexChanged);
  
  guiPanel.setup(&quot;Syphon Recv&quot;, &quot;settings.json&quot;);
  guiPanel.add(serverIdx);
  
  // Force call events once so that the app starts in a fully configured state.
  ofxSyphonServerDirectoryEventArgs args;
  serverListChanged(args);
  
  int idx = serverIdx;
  serverIndexChanged(idx);
}

void ofApp::draw()
{
  if (serverDirectory.isValidIndex(serverIdx))
  {
    // Draw Syphon server.
    client.draw(0, 0);
  }
  
  guiPanel.draw();
}

void ofApp::serverListChanged(ofxSyphonServerDirectoryEventArgs&amp; args)
{
  // Adjust the range of the server index parameter.
  serverIdx.setMax(serverDirectory.size() - 1);
  
  // Make sure the server index is within bounds.
  if (serverIdx &gt;= serverDirectory.size())
  {
    serverIdx = 0;
  }
}

void ofApp::serverIndexChanged(int&amp; val)
{
  // Check that the server index is within bounds.
  if (serverDirectory.isValidIndex(serverIdx))
  {
    ofLogNotice(__FUNCTION__) &lt;&lt; &quot;Bind server &quot; &lt;&lt; serverIdx;
    
    ofxSyphonServerDescription desc = serverDirectory.getDescription(serverIdx);
    
    // Bind the client to the selected server.
    client.set(desc);
    
    // Update the window title.
    ofSetWindowTitle(desc.appName + &quot;::&quot; + desc.serverName);
  }
  else
  {
    ofLogWarning(__FUNCTION__) &lt;&lt; &quot;Server &quot; &lt;&lt; serverIdx &lt;&lt; &quot; out of bounds!&quot;;
  }
}
</code></pre><figure style="width:600px;height:400px;display:block;margin:0 auto" markdown=1><div style="padding:56.25% 0 0;position:relative"><iframe src="https://player.vimeo.com/video/129234412?color=ef0065&title=0&byline=0&portrait=0" style=position:absolute;top:0;left:0;width:100%;height:100% frameborder=0 allow="autoplay; fullscreen" allowfullscreen></iframe></div><script src=https://player.vimeo.com/api/player.js></script><figcaption><i><a href=https://vimeo.com/129234412>C4D_OF_ImageProcessing_SyphonLink</a> from <a href=https://vimeo.com/adamheslop>Adam Heslop</a> on <a href=https://vimeo.com>Vimeo</a>.</i></figcaption></figure><h2 id=spout>Spout <a href=#spout class=anchor aria-hidden=true>#</a></h2><p><a href=http://spout.zeal.co/>Spout</a> is the equivalent to Syphon but for Windows platforms. It uses a special GPU feature that allows textures to be shared between different apps running on the same PC, and has a fallback method in case the hardware does not support it.</p><p>Similarly to Syphon, Spout already has plug-ins available for a multitude of platforms, and being open-source, allows any developer to write their own Spout interface for any tool they choose.</p><p>We will use the <a href=https://github.com/prisonerjohn/ofxSpout>ofxSpout</a> addon for openFrameworks. Note that if using the <code>master</code> branch, we will also need to download and install the <a href=http://spout.zeal.co/download-spout/>Spout SDK</a>.</p><h3 id=sender>Sender <a href=#sender class=anchor aria-hidden=true>#</a></h3><p>The following app is a similar thresholding app with two senders.</p><ul><li>Note that <code>ofxSpout</code> only includes a <code>send()</code> function which takes an <code>ofTexture</code> reference as a parameter.</li></ul><pre><code class=language-cpp>// ofApp.h
#pragma once

#include &quot;ofxGui.h&quot;
#include &quot;ofxSpout.h&quot;

// Note that we include ofMain.h after ofxSpout.h 
// to properly resolve references to &quot;byte&quot;.
#include &quot;ofMain.h&quot;

class ofApp : public ofBaseApp
{
public:
  void setup();
  void update();
  void draw();

  ofVideoGrabber grabber;
  ofImage thresholdImg;

  ofxSpout::Sender senderGrabber;
  ofxSpout::Sender senderThreshold;

  ofParameter&lt;int&gt; thresholdVal;
  ofParameter&lt;bool&gt; sendGrabber;
  ofParameter&lt;bool&gt; sendThreshold;

  ofxPanel guiPanel;
};
</code></pre><pre><code class=language-cpp>// ofApp.cpp
#include &quot;ofApp.h&quot;

void ofApp::setup()
{
  ofSetWindowShape(640, 480);

  // Start video grabber.
  grabber.setup(640, 480);

  // Allocate threshold image (same size as video).
  thresholdImg.allocate(640, 480, OF_IMAGE_COLOR);

  // Set up Spout senders.
  senderGrabber.init(&quot;Video Input&quot;);
  senderThreshold.init(&quot;Threshold Image&quot;);

  // Set parameters and GUI.
  thresholdVal.set(&quot;Threshold Val&quot;, 127, 0, 255);
  sendGrabber.set(&quot;Send Grabber&quot;, true);
  sendThreshold.set(&quot;Send Threshold&quot;, true);

  guiPanel.setup(&quot;Spout Send&quot;, &quot;settings.json&quot;);
  guiPanel.add(thresholdVal);
  guiPanel.add(sendGrabber);
  guiPanel.add(sendThreshold);
}

void ofApp::update()
{
  grabber.update();

  if (grabber.isFrameNew())
  {
    // Threshold video image.
    // Use references (&amp;) when getting the ofPixels objects to
    // avoid unnecessary copies.
    ofPixels&amp; videoPix = grabber.getPixels();
    ofPixels&amp; thresholdPix = thresholdImg.getPixels();
    for (int row = 0; row &lt; videoPix.getHeight(); row++)
    {
      for (int col = 0; col &lt; videoPix.getWidth(); col++)
      {
        int pixVal = videoPix.getColor(col, row).getBrightness();
        if (pixVal &lt; thresholdVal)
        {
          thresholdPix.setColor(col, row, ofColor(0));
        }
        else
        {
          thresholdPix.setColor(col, row, ofColor(255));
        }
      }
    }

    thresholdImg.update();

    if (sendGrabber)
    {
      // Send grabber texture.
      senderGrabber.send(grabber.getTexture());
    }

    if (sendThreshold)
    {
      // Send threshold texture.
      senderThreshold.send(thresholdImg.getTexture());
    }
  }
}

void ofApp::draw()
{
  thresholdImg.draw(0, 0);

  guiPanel.draw();
}
</code></pre><h3 id=receiver>Receiver <a href=#receiver class=anchor aria-hidden=true>#</a></h3><p>The following app holds two receivers corresponding to the two senders from above.</p><ul><li>We also need to create an <code>ofTexture</code> per receiver, and pass it as an argument to the <code>receive()</code> function.</li><li><code>ofxSpout::Receiver</code> holds a <code>selectSenderPanel()</code> function, which displays all available senders when called. Selecting a different sender in the panel overrides any settings made in the app.</li></ul><pre><code class=language-cpp>// ofApp.h
#pragma once

#include &quot;ofxGui.h&quot;
#include &quot;ofxSpout.h&quot;

// Note that we include ofMain.h after ofxSpout.h 
// to properly resolve references to &quot;byte&quot;.
#include &quot;ofMain.h&quot;

class ofApp : public ofBaseApp
{
public:
  void setup();
  void update();
  void draw();

  void keyPressed(int key);

  ofxSpout::Receiver receiverGrabber;
  ofxSpout::Receiver receiverThreshold;

  ofTexture texGrabber;
  ofTexture texThreshold;

  ofParameter&lt;bool&gt; recvGrabber;
  ofParameter&lt;bool&gt; recvThreshold;

  ofxPanel guiPanel;
};
</code></pre><pre><code class=language-cpp>// ofApp.cpp
#include &quot;ofApp.h&quot;

void ofApp::setup()
{
  ofSetWindowShape(640, 480);

  // Set up Spout receivers.
  receiverGrabber.init(&quot;Video Input&quot;);
  receiverThreshold.init(&quot;Threshold Image&quot;);

  // Set parameters and GUI.
  recvGrabber.set(&quot;Recv Grabber&quot;, true);
  recvThreshold.set(&quot;Recv Threshold&quot;, false);

  guiPanel.setup(&quot;Spout Recv&quot;, &quot;settings.json&quot;);
  guiPanel.add(recvGrabber);
  guiPanel.add(recvThreshold);
}

void ofApp::update()
{
  if (recvGrabber)
  {
    // Draw grabber.
    receiverGrabber.receive(texGrabber);
  }
  else if (recvThreshold)
  {
    // Draw threshold.
    receiverThreshold.receive(texThreshold);
  }
}

void ofApp::draw()
{
  if (recvGrabber)
  {
    // Draw grabber.
    texGrabber.draw(0, 0);
  }
  else if (recvThreshold)
  {
    // Draw threshold.
    texThreshold.draw(0, 0);
  }

  guiPanel.draw();
}

void ofApp::keyPressed(int key)
{
  if (key == ' ')
  {
    receiverGrabber.selectSenderPanel();
  }
}
</code></pre><div class="alert alert-info d-flex" role=alert><div class="flex-shrink-1 alert-icon">âœŒï¸</div><div class=w-100><p><strong>Including <code>ofMain.h</code></strong></p><p>The latest version of OF uses a newer C++ standard called <code>C++17</code>. This causes some examples to break on Windows because C++ now has two definitions for the <code>byte</code> type, one in the Windows SDK and the other in the standard library <code>std</code>. The issue is that <code>ofMain.h</code> includes <code>using namespace std;</code> directive, and the compiler cannot determine if we are trying to use <code>byte</code> or <code>std::byte</code> anymore.</p><p>The solution to this is simple:</p><ul><li>Delete <code>#include "ofMain.h"</code> from the <code>main.cpp</code> file.</li><li>Move <code>#include "ofMain.h"</code> below the other addon includes in the <code>ofApp.h</code> file (as we are doing in the examples above).</li></ul></div></div><h2 id=ndi>NDI <a href=#ndi class=anchor aria-hidden=true>#</a></h2><p>Syphon and Spout are great for sharing images between applications, but they are limited to a single machine. We sometimes need to share images between different machines and that&rsquo;s where NDI comes in!</p><p><a href=https://www.ndi.tv/>NDI</a> is a high performance standard for video over IP. This means that it can be used to send images over the network with very low latency. The SDK is compatible with Windows, Mac, Linux, and even iOS and Android making it truly versatile.</p><p>Depending on the addon we use, installing the NDI SDK is not necessary, but if we do, NDI will also advertise itself as a webcam. This means we could use an <code>ofVideoGrabber</code> as an NDI client directly in OF, we just need to select the device called &ldquo;NewTek NDI Video&rdquo;.</p><p>While there are many options for using NDI under openFrameworks (see <a href=https://github.com/thomasgeissl/ofxNDI>here</a>, <a href=https://github.com/leadedge/ofxNDI>here</a>, and <a href=https://github.com/nariakiiwatani/ofxNDI>here</a>), I have not been able to find a fully working addon for Mac and Windows.</p><p><a href=https://github.com/leadedge/ofxNDI>ofxNDI</a> by Lynn Jarvis seems to be the best choice at the moment, but has some limitations / extra steps:</p><ul><li>The NDI SDK needs to be installed on the machine (after registration on the <a href=(https://www.ndi.tv/)>NDI website</a>).</li><li>The library needs to be manually added to each project on Mac.</li></ul><h3 id=sender-1>Sender <a href=#sender-1 class=anchor aria-hidden=true>#</a></h3><p>The following app only has a single <code>ofxNDIsender</code>, and switches between textures to send using the value of the <code>ofParameter</code> settings.</p><pre><code class=language-cpp>// ofApp.h
#pragma once

#include &quot;ofxGui.h&quot;
#include &quot;ofxNDI.h&quot;

#include &quot;ofMain.h&quot;

class ofApp : public ofBaseApp
{
public:
  void setup();
  void update();
  void draw();

  ofVideoGrabber grabber;
  ofImage thresholdImg;

  ofxNDIsender ndiSender;

  ofParameter&lt;int&gt; thresholdVal;
  ofParameter&lt;bool&gt; sendGrabber;
  ofParameter&lt;bool&gt; sendThreshold;

  ofxPanel guiPanel;
};
</code></pre><pre><code class=language-cpp>// ofApp.cpp
#include &quot;ofApp.h&quot;

void ofApp::setup()
{
  ofSetWindowShape(640, 480);

  // Start video grabber.
  grabber.setup(640, 480);

  // Allocate threshold image (same size as video, single channel).
  thresholdImg.allocate(640, 480, OF_IMAGE_COLOR);

  // Set up NDI senders.
  ndiSender.CreateSender(&quot;NDI Sender&quot;, grabber.getWidth(), grabber.getHeight());

  // Set parameters and GUI.
  thresholdVal.set(&quot;Threshold Val&quot;, 127, 0, 255);
  sendGrabber.set(&quot;Send Grabber&quot;, true);
  sendThreshold.set(&quot;Send Threshold&quot;, false);

  guiPanel.setup(&quot;NDI Send&quot;, &quot;settings.json&quot;);
  guiPanel.add(thresholdVal);
  guiPanel.add(sendGrabber);
  guiPanel.add(sendThreshold);
}

void ofApp::update()
{
  grabber.update();

  if (grabber.isFrameNew())
  {
    // Threshold video image.
    // Use references (&amp;) when getting the ofPixels objects to
    // avoid unnecessary copies.
    ofPixels&amp; videoPix = grabber.getPixels();
    ofPixels&amp; thresholdPix = thresholdImg.getPixels();
    for (int row = 0; row &lt; videoPix.getHeight(); row++)
    {
      for (int col = 0; col &lt; videoPix.getWidth(); col++)
      {
        int pixVal = videoPix.getColor(col, row).getBrightness();
        if (pixVal &lt; thresholdVal)
        {
          thresholdPix.setColor(col, row, ofColor(0));
        }
        else
        {
          thresholdPix.setColor(col, row, ofColor(255));
        }
      }
    }

    thresholdImg.update();

    if (sendGrabber)
    {
      // Send grabber pixels.
      ndiSender.SendImage(grabber.getPixels());
    }
    else if (sendThreshold)
    {
      // Send threshold pixels.
      ndiSender.SendImage(thresholdPix);
    }
  }
}

void ofApp::draw()
{
  thresholdImg.draw(0, 0);

  guiPanel.draw();
}
</code></pre><h3 id=receiver-1>Receiver <a href=#receiver-1 class=anchor aria-hidden=true>#</a></h3><p>Because we only have a single sender, the receiver is simplified as a single <code>ofxNDIreceiver</code> that just gets drawn to the screen.</p><pre><code class=language-cpp>// ofApp.h
#pragma once

#include &quot;ofxGui.h&quot;
#include &quot;ofxNDI.h&quot;

#include &quot;ofMain.h&quot;

class ofApp : public ofBaseApp
{
public:
  void setup();
  void update();
  void draw();

  ofxNDIreceiver ndiReceiver;
  ofTexture ndiTexture;

  ofxPanel guiPanel;
};
</code></pre><pre><code class=language-cpp>// ofApp.cpp
#include &quot;ofApp.h&quot;

void ofApp::setup()
{
  ofSetWindowShape(640, 480);

  ndiTexture.allocate(640, 480, GL_RGBA);

  // Set parameters and GUI.
  guiPanel.setup(&quot;NDI Recv&quot;, &quot;settings.json&quot;);
}

void ofApp::update()
{
  ndiReceiver.ReceiveImage(ndiTexture);
}

void ofApp::draw()
{
  ndiTexture.draw(0, 0);

  guiPanel.draw();
}
</code></pre><p>If there is enough interest in the class to use NDI, I can try to update one of the addons to work across the board, just let me know!</p><figure style="width:600px;height:400px;display:block;margin:0 auto"><video src=unity-vision.mp4 controls muted width=100%></video><figcaption><i>Unity Vision.</i></figcaption></figure><div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between"></div><div class="docs-navigation d-flex justify-content-between"><a href=https://seeingmachines.betamovement.net/docs/class-7/networking/><div class="card my-1"><div class="card-body py-2">&larr; Networking</div></div></a><a class=ms-auto href=https://seeingmachines.betamovement.net/docs/class-7/draw-bounds/><div class="card my-1"><div class="card-body py-2">Draw Bounds &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container-xxl><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a class=text-muted href=https://github.com/>GitHub</a>, <a class=text-muted href=https://gohugo.io/>Hugo</a>, and <a class=text-muted href=https://getdoks.org/>Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div></div></div></footer><script src=https://seeingmachines.betamovement.net/js/bootstrap.min.6cdb76625316a021e696f0641e0948e88df021948825dbf90228403664b1691ff7a291ac9d485a8da13b1cc8b9d543ba6dce6702692ff979943a02038ffbd52e.js integrity="sha512-bNt2YlMWoCHmlvBkHglI6I3wIZSIJdv5AihANmSxaR/3opGsnUhajaE7HMi51UO6bc5nAmkv+XmUOgIDj/vVLg==" crossorigin=anonymous defer></script>
<script src=https://seeingmachines.betamovement.net/js/highlight.min.93c197e7097c47fc0788b21721b3c308e18e43299f1e45e8ff2697d13cd62908cc5949a053c1fb7242d7b4a60eb07bd106061252f7aa925ef7e91033ea59d9b9.js integrity="sha512-k8GX5wl8R/wHiLIXIbPDCOGOQymfHkXo/yaX0TzWKQjMWUmgU8H7ckLXtKYOsHvRBgYSUveqkl736RAz6lnZuQ==" crossorigin=anonymous defer></script>
<script src=https://seeingmachines.betamovement.net/main.min.162c56a0426544de0d010e66c56e321579655c400c9aae06a6823e7682de379adadf2165bd416fea191e4e7e410fbf1fd2c35a759aa43ff2e3787067669bf81b.js integrity="sha512-FixWoEJlRN4NAQ5mxW4yFXllXEAMmq4GpoI+doLeN5ra3yFlvUFv6hkeTn5BD78f0sNadZqkP/LjeHBnZpv4Gw==" crossorigin=anonymous defer></script>
<script src=https://seeingmachines.betamovement.net/index.min.1af4161a7baea8fc80eb3c7c1ec853f7fba32287f34a53be20eab517101bee3b58bc3e4eb0cb06f2c888bf0f597f6405046912ed44a4bcd92abe2fa42488b80d.js integrity="sha512-GvQWGnuuqPyA6zx8HshT9/ujIofzSlO+IOq1FxAb7jtYvD5OsMsG8siIvw9Zf2QFBGkS7USkvNkqvi+kJIi4DQ==" crossorigin=anonymous defer></script></body></html>